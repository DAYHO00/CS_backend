# 핵심 네트워크 실습 5개

실습 목표 : 브라우저 → OS → DNS → 라우팅 → TCP

1️⃣ DNS가 도메인을 IP로 바꾼다.

PS C:\Users\sed26> nslookup www.google.com
서버:    ccs.sogang.ac.kr
Address:  163.239.1.1

권한 없는 응답:
이름:    www.google.com
Addresses:  2404:6800:4005:81f::2004
          142.251.157.119
          142.251.152.119
          142.251.154.119
          142.251.155.119
          142.251.151.119
          142.251.156.119
          142.251.153.119
          142.251.150.119
          142.250.197.36

2️⃣ OS가 들고 있는 네트워크 정보를 확인한다.

PS C:\Users\sed26> ipconfig /all
무선 LAN 어댑터 Wi-Fi:

   연결별 DNS 접미사. . . . : sogang.ac.kr
   설명. . . . . . . . . . . . : Intel(R) Wi-Fi 6E AX211 160MHz
   IPv4 주소 . . . . . . . . . : 10.1.124.31(기본 설정) - 내 IP주소
   기본 게이트웨이 . . . . . . : 10.1.120.1 - 학교 라우터 (캠퍼스 관문)
   DNS 서버. . . . . . . . . . : 163.239.1.1 - 서강대 DNS
                                 168.126.63.1 - KT DNS 

3️⃣ ARP 테이블 확인 (IP가 실제로 MAC으로 바뀌는 순간)
👉 OS가 묻습니다: “10.1.120.1 너 MAC 주소 뭐야?”
PS C:\Users\sed26> arp -a
인터넷 주소           물리적 주소           유형
10.1.120.1        00-00-5e-00-01-18     동적

인터넷 주소 => 기본 게이트웨이  IP
물리적 주소 => 게이트웨이의 MAC주소

4️⃣ 패킷이 거치는 라우터(hop)를 실제로 본다

PS C:\Users\sed26> tracert www.google.com
최대 30홉 이상의
www.google.com [142.250.197.36](으)로 가는 경로 추적:

hop 1 ~ 3 : 학교 내부 네트워크
  1     2 ms     2 ms     3 ms  10.1.120.2
  2     2 ms     2 ms     2 ms  10.10.0.1
  3     3 ms     3 ms     3 ms  163.239.254.243

hop 4 ~ 10 : 통신사(ISP) 네트워크
  4     3 ms     3 ms     2 ms  211.53.1.157
  5     3 ms     4 ms     4 ms  1.213.100.181
  6    23 ms    14 ms     3 ms  100.73.10.1

hop 11 ~ 19 : Google 네트워크 내부
 11    61 ms    63 ms    60 ms  142.250.173.138
 12    63 ms    64 ms    65 ms  209.85.143.41

 20    65 ms    64 ms    64 ms  nchkga-ag-in-f4.1e100.net [142.250.197.36]

추적을 완료했습니다.


5️⃣ TCP 연결 확인 (OS가 연결을 관리함)

PS C:\Users\sed26> netstat -an | findstr ESTABLISHED(연결 완료)

  TCP      [내 IP:내 포트]    →  [상대 IP:상대 포트]      ESTABLISHED
  TCP    10.1.124.31:50221      104.18.39.21:443       ESTABLISHED
  TCP    10.1.124.31:50741      4.213.25.241:443       ESTABLISHED
  TCP    10.1.124.31:50742      4.213.25.241:443       ESTABLISHED
  TCP    10.1.124.31:55651      211.249.222.161:443    ESTABLISHED
  TCP    10.1.124.31:59121      23.197.49.35:443       ESTABLISHED
  TCP    10.1.124.31:59122      23.197.49.35:443       ESTABLISHED
  TCP    10.1.124.31:59123      23.197.49.35:443       ESTABLISHED
  TCP    10.1.124.31:61427      23.197.49.18:443       ESTABLISHED
  TCP    10.1.124.31:64100      211.249.240.183:995    ESTABLISHED
  TCP    10.1.124.31:64330      64.233.189.188:5228    ESTABLISHED
  TCP    127.0.0.1:49670        127.0.0.1:49671        ESTABLISHED
  TCP    127.0.0.1:49671        127.0.0.1:49670        ESTABLISHED
  TCP    127.0.0.1:49676        127.0.0.1:49677        ESTABLISHED
  TCP    127.0.0.1:49677        127.0.0.1:49676        ESTABLISHED
  TCP    127.0.0.1:49680        127.0.0.1:49681        ESTABLISHED
  TCP    127.0.0.1:49681        127.0.0.1:49680        ESTABLISHED
  TCP    127.0.0.1:50841        127.0.0.1:50842        ESTABLISHED
  TCP    127.0.0.1:50842        127.0.0.1:50841        ESTABLISHED



❗ 아직 안 한 것 (다음 단계)

이제부터는 “연결 위에서 무슨 일이 일어나느냐”입니다.

다음 단계는 이 3개 중 하나

1️⃣ TLS 핸드셰이크

HTTPS에서 암호화 시작

인증서, 공개키, 대칭키

2️⃣ HTTP 요청/응답

GET / POST

헤더, 바디, 상태코드

3️⃣ 패킷 실제 보기 (Wireshark)

SYN / SYN-ACK / ACK

TLS ClientHello
# í•µì‹¬ ë„¤íŠ¸ì›Œí¬ ì‹¤ìŠµ 5ê°œ

ì‹¤ìŠµ ëª©í‘œ : ë¸Œë¼ìš°ì € â†’ OS â†’ DNS â†’ ë¼ìš°íŒ… â†’ TCP

1ï¸âƒ£ DNSê°€ ë„ë©”ì¸ì„ IPë¡œ ë°”ê¾¼ë‹¤.

PS C:\Users\sed26> nslookup www.google.com
ì„œë²„:    ccs.sogang.ac.kr
Address:  163.239.1.1

ê¶Œí•œ ì—†ëŠ” ì‘ë‹µ:
ì´ë¦„:    www.google.com
Addresses:  2404:6800:4005:81f::2004
          142.251.157.119
          142.251.152.119
          142.251.154.119
          142.251.155.119
          142.251.151.119
          142.251.156.119
          142.251.153.119
          142.251.150.119
          142.250.197.36

2ï¸âƒ£ OSê°€ ë“¤ê³  ìˆëŠ” ë„¤íŠ¸ì›Œí¬ ì •ë³´ë¥¼ í™•ì¸í•œë‹¤.

PS C:\Users\sed26> ipconfig /all
ë¬´ì„  LAN ì–´ëŒ‘í„° Wi-Fi:

   ì—°ê²°ë³„ DNS ì ‘ë¯¸ì‚¬. . . . : sogang.ac.kr
   ì„¤ëª…. . . . . . . . . . . . : Intel(R) Wi-Fi 6E AX211 160MHz
   IPv4 ì£¼ì†Œ . . . . . . . . . : 10.1.124.31(ê¸°ë³¸ ì„¤ì •) - ë‚´ IPì£¼ì†Œ
   ê¸°ë³¸ ê²Œì´íŠ¸ì›¨ì´ . . . . . . : 10.1.120.1 - í•™êµ ë¼ìš°í„° (ìº í¼ìŠ¤ ê´€ë¬¸)
   DNS ì„œë²„. . . . . . . . . . : 163.239.1.1 - ì„œê°•ëŒ€ DNS
                                 168.126.63.1 - KT DNS 

3ï¸âƒ£ ARP í…Œì´ë¸” í™•ì¸ (IPê°€ ì‹¤ì œë¡œ MACìœ¼ë¡œ ë°”ë€ŒëŠ” ìˆœê°„)
ğŸ‘‰ OSê°€ ë¬»ìŠµë‹ˆë‹¤: â€œ10.1.120.1 ë„ˆ MAC ì£¼ì†Œ ë­ì•¼?â€
PS C:\Users\sed26> arp -a
ì¸í„°ë„· ì£¼ì†Œ           ë¬¼ë¦¬ì  ì£¼ì†Œ           ìœ í˜•
10.1.120.1        00-00-5e-00-01-18     ë™ì 

ì¸í„°ë„· ì£¼ì†Œ => ê¸°ë³¸ ê²Œì´íŠ¸ì›¨ì´  IP
ë¬¼ë¦¬ì  ì£¼ì†Œ => ê²Œì´íŠ¸ì›¨ì´ì˜ MACì£¼ì†Œ

4ï¸âƒ£ íŒ¨í‚·ì´ ê±°ì¹˜ëŠ” ë¼ìš°í„°(hop)ë¥¼ ì‹¤ì œë¡œ ë³¸ë‹¤

PS C:\Users\sed26> tracert www.google.com
ìµœëŒ€ 30í™‰ ì´ìƒì˜
www.google.com [142.250.197.36](ìœ¼)ë¡œ ê°€ëŠ” ê²½ë¡œ ì¶”ì :

hop 1 ~ 3 : í•™êµ ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬
  1     2 ms     2 ms     3 ms  10.1.120.2
  2     2 ms     2 ms     2 ms  10.10.0.1
  3     3 ms     3 ms     3 ms  163.239.254.243

hop 4 ~ 10 : í†µì‹ ì‚¬(ISP) ë„¤íŠ¸ì›Œí¬
  4     3 ms     3 ms     2 ms  211.53.1.157
  5     3 ms     4 ms     4 ms  1.213.100.181
  6    23 ms    14 ms     3 ms  100.73.10.1

hop 11 ~ 19 : Google ë„¤íŠ¸ì›Œí¬ ë‚´ë¶€
 11    61 ms    63 ms    60 ms  142.250.173.138
 12    63 ms    64 ms    65 ms  209.85.143.41

 20    65 ms    64 ms    64 ms  nchkga-ag-in-f4.1e100.net [142.250.197.36]

ì¶”ì ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤.


5ï¸âƒ£ TCP ì—°ê²° í™•ì¸ (OSê°€ ì—°ê²°ì„ ê´€ë¦¬í•¨)

PS C:\Users\sed26> netstat -an | findstr ESTABLISHED(ì—°ê²° ì™„ë£Œ)

  TCP      [ë‚´ IP:ë‚´ í¬íŠ¸]    â†’  [ìƒëŒ€ IP:ìƒëŒ€ í¬íŠ¸]      ESTABLISHED
  TCP    10.1.124.31:50221      104.18.39.21:443       ESTABLISHED
  TCP    10.1.124.31:50741      4.213.25.241:443       ESTABLISHED
  TCP    10.1.124.31:50742      4.213.25.241:443       ESTABLISHED
  TCP    10.1.124.31:55651      211.249.222.161:443    ESTABLISHED
  TCP    10.1.124.31:59121      23.197.49.35:443       ESTABLISHED
  TCP    10.1.124.31:59122      23.197.49.35:443       ESTABLISHED
  TCP    10.1.124.31:59123      23.197.49.35:443       ESTABLISHED
  TCP    10.1.124.31:61427      23.197.49.18:443       ESTABLISHED
  TCP    10.1.124.31:64100      211.249.240.183:995    ESTABLISHED
  TCP    10.1.124.31:64330      64.233.189.188:5228    ESTABLISHED
  TCP    127.0.0.1:49670        127.0.0.1:49671        ESTABLISHED
  TCP    127.0.0.1:49671        127.0.0.1:49670        ESTABLISHED
  TCP    127.0.0.1:49676        127.0.0.1:49677        ESTABLISHED
  TCP    127.0.0.1:49677        127.0.0.1:49676        ESTABLISHED
  TCP    127.0.0.1:49680        127.0.0.1:49681        ESTABLISHED
  TCP    127.0.0.1:49681        127.0.0.1:49680        ESTABLISHED
  TCP    127.0.0.1:50841        127.0.0.1:50842        ESTABLISHED
  TCP    127.0.0.1:50842        127.0.0.1:50841        ESTABLISHED


6ï¸âƒ£ TLS í•¸ë“œì…°ì´í¬ í™•ì¸ (HTTPSì—ì„œ ì•”í˜¸í™” ì‹œì‘)
PS C:\Users\sed26> curl -v https://www.google.com

StatusCode        : 200
StatusDescription : OK

â†’ ì„œë²„ê°€ â€œìš”ì²­ ì˜ ë°›ì•˜ê³ , ì •ìƒ ì‘ë‹µ ì¤¬ë‹¤â€ëŠ” ëœ»
RawContent        : HTTP/1.1 200 OK
                    Content-Security-Policy-Report-Only: object-src 'none';base-uri '
                    self';script-src 'nonce-ZHzE_oNTGUzYEJtFxiGS6A' 'strict-dynamic'
                    'report-sample' 'unsafe-eval' 'unsafe-inline' https: ...


7ï¸âƒ£ HTTP ìš”ì²­/ì‘ë‹µ (GET / í—¤ë” / ìƒíƒœì½”ë“œ)
(Invoke-WebRequest https://www.google.com).Headers
Content-Type                        text/html; charset=UTF-8
Set-Cookie                          __Secure-STRP=AD6DoguBZv10nHBrFUmpEUgqMCEwH3V8FgLCCipesG9HZkWNCnkSrmjm0Jnt0ywkQpLF6-1Fjm40RsMxiQb0wwlypR


Invoke-WebRequest http://example.com  âŒ ì•”í˜¸í™”
StatusCode        : 200
StatusDescription : OK

Invoke-WebRequest https://example.com â­• TLS ì•”í˜¸í™”
StatusCode        : 200
StatusDescription : OK